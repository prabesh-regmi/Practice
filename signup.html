<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.98.0">
    <title>Signin</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link href="css/style.css" rel="stylesheet">
    <!-- <style media="screen">
  html,
  body {
    height: 100%;
  }

  body {
    display: flex;
    align-items: center;
    padding-top: 40px;
    padding-bottom: 40px;
    background-color: #f5f5f5;
  }

  .form-signin {
    max-width: 330px;
    padding: 15px;
  }

  .form-signin .form-floating:focus-within {
    z-index: 2;
  }

  .form-signin input[type="email"] {
    margin-bottom: -1px;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
  }

  .form-signin input[type="password"] {
    margin-bottom: 10px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
  }


</style> -->
</head>

<body class="text-center">

    <form action="/signup" method="post">

    <main class="form-signin w-100 m-auto">
        <h1 class="h3 mb-3 fw-normal">Please sign in</h1>
        <div class="form-floating">
            <input type="text" class="form-control" name="fname" placeholder="First Name">
            <label>First Name</label>
        </div>
        <div class="form-floating">
            <input type="text" class="form-control" name="lname" placeholder="Last Name">
            <label>Last Name</label>
        </div>
        <div class="form-floating">
            <input type="email" class="form-control" name="email" placeholder="name@example.com">
            <label for="floatingInput">Email address</label>
        </div>
        <div class="form-floating">
            <input type="password" class="form-control" name="password" placeholder="Password">
            <label for="floatingPassword">Password</label>
        </div>
        <button class="w-100 btn btn-lg btn-primary" id="btn" type="submit">Sign in</button>
        <p class="mt-5 mb-3 text-muted">&copy; prabesh</p>
    </main>
</form>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

    <script type="text/javascript">
        $(document).ready(function() {
            $('#btn').click(function() {
                var fName = $("input[name=fname]").val();
                var lName = $("input[name=lname]").val();
                var email = $("input[name=email]").val();
                var password = $("input[name=password]").val();
                $.ajax({
                    url: '/signup',
                    method: 'post',
                    dataType: 'json',
                    data: {
                        'fName': fName,
                        'lName': lName,
                        'email': email,
                        'password': password
                    },
                    success: function(response) {
                        if (response.result == 'redirect') {
                            //redirecting to main page from here.
                            window.location.replace(response.url);
                        }
                    },
                    error: function(response) {
                        alert('server error occured')
                    }
                });
            });

        });
    </script>
</body>

</html>